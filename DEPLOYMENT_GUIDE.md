# 留学选校定位系统 - 部署和使用指南

## 🎉 功能更新完成！

### ✅ 已完成的功能更新

1. **雅思成绩显示修复** ✅
   - 修复位置: `frontend/src/components/AnalysisReport.tsx`
   - 修复内容: IELTS成绩除以10并保留一位小数显示
   - 效果: 70 → 7.0, 65 → 6.5

2. **院校数据大幅扩充** ✅
   - 数据源: `data/院校列表.xls`
   - 数据增长: 34所 → **1309所院校** (增长38.5倍)
   - 覆盖: 全国所有本科院校

3. **专业数据大幅扩充** ✅
   - 数据源: `data/专业列表.pdf`
   - 数据增长: 21个 → **735个专业** (增长35倍)
   - 覆盖: 18个学科门类的完整专业目录

4. **后端API扩展** ✅
   - 新增: `GET /api/universities` - 获取院校列表
   - 新增: `GET /api/majors` - 获取专业列表
   - 状态: 数据加载和API响应正常

5. **前端动态数据加载** ✅
   - 更新: `frontend/src/components/UserForm.tsx`
   - 改进: 从硬编码改为API动态获取
   - 功能: 支持搜索、筛选、学科分组

## 🚀 启动服务

### 1. 启动后端服务 (端口8000)
```bash
cd backend
nohup python test_server.py > server.log 2>&1 &
```

### 2. 启动前端服务 (端口3000)
```bash
cd frontend
npm start
```

## 🌐 访问地址

- **前端应用**: http://localhost:3000
- **后端API**: http://localhost:8000
- **API文档**: http://localhost:8000/docs (FastAPI自动生成)

## 🧪 测试API端点

```bash
# 测试服务状态
curl http://localhost:8000/

# 获取院校列表
curl http://localhost:8000/api/universities

# 获取专业列表
curl http://localhost:8000/api/majors

# 获取统计信息
curl http://localhost:8000/api/stats
```

## 📋 验收测试清单

### ✅ 院校数据验收
- [ ] 在用户表单中搜索"北京大学"，能找到
- [ ] 在用户表单中搜索"清华大学"，能找到
- [ ] 院校下拉列表显示超过1000所院校
- [ ] 搜索功能正常工作

### ✅ 专业数据验收
- [ ] 专业选择显示超过700个专业
- [ ] 专业按学科门类分组显示
- [ ] 可以看到"工学"、"文学"、"管理学"等门类
- [ ] 搜索和筛选功能正常

### ✅ 雅思成绩修复验收
- [ ] 提交用户信息并生成分析报告
- [ ] 在相似案例中查看雅思成绩显示
- [ ] 确认雅思成绩以小数格式显示 (如7.0, 6.5)
- [ ] 确认TOEFL成绩保持整数格式

### ✅ 系统功能验收
- [ ] 用户信息填写功能正常
- [ ] 分析报告生成功能正常
- [ ] 相似案例展示功能正常
- [ ] 系统响应速度正常

## 🔧 故障排除

### 后端服务无法启动
```bash
# 检查依赖
pip install PyPDF2 pandas openpyxl fastapi uvicorn

# 检查数据文件
ls -la data/院校列表.xls data/专业列表.pdf

# 查看错误日志
tail -f backend/server.log
```

### 前端服务无法启动
```bash
# 重新安装依赖
cd frontend
npm install

# 清除缓存
npm start -- --reset-cache
```

### API连接问题
```bash
# 检查端口占用
lsof -i :8000
lsof -i :3000

# 测试API连通性
curl http://localhost:8000/
```

## 📊 数据统计

- **院校总数**: 1309所
- **专业总数**: 735个
- **学科门类**: 18个
- **数据覆盖**: 全国本科院校和专业目录

## 🎯 使用建议

1. **院校选择**: 支持拼音搜索和模糊匹配
2. **专业选择**: 建议按学科门类浏览
3. **数据准确性**: 基于官方教育部数据
4. **系统性能**: 首次加载可能需要几秒钟

## 📞 技术支持

如遇到问题，请检查：
1. 服务器日志: `backend/server.log`
2. 浏览器控制台错误信息
3. 网络连接状态
4. 端口占用情况

---

🎉 **恭喜！留学选校定位系统功能更新已全部完成！**